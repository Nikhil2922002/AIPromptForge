<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9410062339187724"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Prompt Forge</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts for modern typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">

    <style>
        /* Custom styles to enhance Tailwind */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* Tailwind gray-900 */
        }
        .font-orbitron {
            font-family: 'Orbitron', sans-serif;
        }
        
        /* Background Gradient Animation */
        .gradient-bg {
            background: linear-gradient(-45deg, #111827, #1f2937, #374151, #4b5563);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Custom styling for the prompt cards */
        .prompt-card {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Custom scrollbar for a modern look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1f2937;
        }
        ::-webkit-scrollbar-thumb {
            background: #4f46e5;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6366f1;
        }

        /* Spinner animation */
        .loader {
            border: 4px solid #f3f3f3; /* Light grey */
            border-top: 4px solid #4f46e5; /* Indigo */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Styling for the blog section */
        .blog-section h2 {
            @apply text-3xl font-bold text-indigo-400 mb-4;
        }
        .blog-section h3 {
            @apply text-2xl font-bold text-gray-200 mt-6 mb-3;
        }
        .blog-section p {
            @apply text-gray-400 leading-relaxed mb-4;
        }
        .blog-section code {
            @apply bg-gray-900 text-indigo-300 px-2 py-1 rounded-md font-mono text-sm;
        }
        .blog-section ul {
            @apply list-disc list-inside text-gray-400 space-y-2 mb-4;
        }
    </style>
</head>
<body class="gradient-bg text-gray-200">

    <div class="container mx-auto px-4 py-8 md:py-16 flex flex-col items-center">

        <!-- Header Section -->
        <header class="text-center mb-10">
            <h1 class="font-orbitron text-4xl md:text-6xl font-bold text-white tracking-wider">
                AI Prompt <span class="text-indigo-400">Forge</span>
            </h1>
            <p class="mt-4 text-lg md:text-xl text-gray-400 max-w-2xl">
                Enter a theme, topic, or a single word, and let our AI craft unique and inspiring prompts for you.
            </p>
        </header>

        <!-- Input Section -->
        <div class="w-full max-w-2xl bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-2xl border border-gray-700">
            <div class="flex flex-col sm:flex-row gap-4">
                <input type="text" id="theme-input" placeholder="e.g., 'haunted library', 'cyberpunk detective', 'lost civilization'" class="w-full px-5 py-3 bg-gray-700 text-white border-2 border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:outline-none transition duration-300 placeholder-gray-500">
                <button id="generate-btn" class="w-full sm:w-auto flex justify-center items-center px-8 py-3 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500 transition duration-300 shadow-lg">
                    <span id="btn-text">Generate</span>
                    <svg id="btn-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- Loading Indicator -->
        <div id="loader" class="mt-12 hidden">
             <div class="loader"></div>
        </div>

        <!-- Results Section -->
        <div id="results-container" class="w-full max-w-4xl mt-12 grid gap-6">
            <!-- Generated prompts will be inserted here -->
        </div>
        
        <!-- Error Message Box -->
        <div id="error-box" class="hidden mt-8 w-full max-w-2xl bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg text-center">
            <p id="error-message"></p>
        </div>

        <!-- Blog Section -->
        <div class="w-full max-w-4xl mt-20 p-8 bg-gray-900/60 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-700 blog-section">
            <h2 class="font-orbitron">The Art of the Prompt</h2>
            <p>Welcome to the world of AI-powered creativity! The magic begins with a **prompt**. Think of a prompt as a set of instructions you give to an AI. The quality of your prompt directly determines the quality of the AI's response. A vague prompt gets a vague answer, but a detailed, creative prompt unlocks incredible results.</p>

            <h3>What Exactly is a Prompt?</h3>
            <p>In the context of AI, a prompt is any text input—a question, a statement, a command, or even just a few words—that you provide to a language model like Gemini. The AI analyzes your prompt to understand your intent and then generates a response based on the patterns and information it learned during its training.</p>
            <p>For example, giving the prompt <code>a story about a cat</code> is simple, but a prompt like <code>Write a short, suspenseful story about a lone black cat named Onyx who discovers a hidden, magical world in the alley behind a seafood restaurant.</code> will produce a much more interesting and specific result.</p>

            <h3>Best Practices for Crafting Great Prompts</h3>
            <p>Creating effective prompts is a skill. Here are some tips to get the best results from our AI Prompt Forge and other generative AI tools:</p>
            <ul>
                <li><strong>Be Specific and Detailed:</strong> The more context you provide, the better. Instead of "fantasy character," try "a weary elven ranger with a scarred face, carrying a bow made from a dragon's bone."</li>
                <li><strong>Define the Format:</strong> Tell the AI what kind of output you want. Do you need a poem, a story summary, a script dialogue, or a list of ideas? Specify it! Example: <code>Generate three movie loglines for a sci-fi comedy.</code></li>
                <li><strong>Set the Tone and Style:</strong> Want something funny, serious, formal, or whimsical? Include the tone in your prompt. Example: <code>Write a corporate memo about dragons in the breakroom, in a humorous and slightly panicked tone.</code></li>
                <li><strong>Assign a Role:</strong> One of the most powerful techniques is to tell the AI to act as a specific character or expert. This focuses its response dramatically. Example: <code>You are a world-weary space pirate captain. Describe your most famous heist.</code></li>
                <li><strong>Iterate and Refine:</strong> Your first prompt might not be perfect. Don't be afraid to tweak your input and try again. Add more detail, change the perspective, or clarify your request to guide the AI toward your desired outcome.</li>
            </ul>

            <h3>Examples of Prompt Styles</h3>
            <p>Here are a few different types of prompts to inspire you:</p>
            <ul>
                <li><strong>Simple Idea:</strong> <code>a haunted lighthouse</code></li>
                <li><strong>Detailed Scene:</strong> <code>Describe the moment a lone astronaut on Mars sees the first sign of alien life: a single, impossible flower growing from the red dust.</code></li>
                <li><strong>Role-Playing Prompt:</strong> <code>You are a master chef. Create a recipe for a dessert that tastes like a sunset.</code></li>
                <li><strong>Constraint-Based Prompt:</strong> <code>Write a 100-word story about a robot who falls in love, but you cannot use the letter 'e'.</code></li>
            </ul>
            <p>Now that you know the basics, try experimenting with different themes and styles in the AI Prompt Forge above. Happy creating!</p>
        </div>

    </div>

    <script>
        const generateBtn = document.getElementById('generate-btn');
        const themeInput = document.getElementById('theme-input');
        const resultsContainer = document.getElementById('results-container');
        const loader = document.getElementById('loader');
        const errorBox = document.getElementById('error-box');
        const errorMessage = document.getElementById('error-message');
        const btnText = document.getElementById('btn-text');
        const btnIcon = document.getElementById('btn-icon');

        // --- Event Listener for the Generate Button ---
        generateBtn.addEventListener('click', handleGeneration);
        themeInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleGeneration();
            }
        });

        async function handleGeneration() {
            const theme = themeInput.value.trim();
            if (!theme) {
                showError("Please enter a theme or topic to generate prompts.");
                return;
            }

            // --- UI state for loading ---
            setLoadingState(true);
            resultsContainer.innerHTML = '';
            hideError();

            try {
                // --- Call the Gemini API ---
                await generatePrompts(theme);
            } catch (error) {
                console.error("API Call Failed:", error);
                showError("Failed to generate prompts. The AI might be busy. Please try again later.");
            } finally {
                // --- Reset UI state ---
                setLoadingState(false);
            }
        }

        /**
         * Calls the Gemini API to generate prompts based on a theme.
         * @param {string} theme The user-provided theme.
         */
        async function generatePrompts(theme) {
            // This is the prompt we send to the AI. It's carefully structured to request JSON output.
            const userPrompt = `Generate 4 creative, detailed, and high-quality writing prompts based on the theme: "${theme}".
            The prompts should be unique, vivid, and varied in style.
            Provide a short, catchy title for each prompt.
            Return the result as a JSON object.`;

            // The schema defines the exact JSON structure we want back.
            const schema = {
                type: "ARRAY",
                items: {
                    type: "OBJECT",
                    properties: {
                        "title": { "type": "STRING" },
                        "prompt": { "type": "STRING" }
                    },
                    required: ["title", "prompt"]
                }
            };
            
            // The payload for the API request.
            const payload = {
                contents: [{ role: "user", parts: [{ text: userPrompt }] }],
                generationConfig: {
                    responseMimeType: "application/json",
                    responseSchema: schema,
                    temperature: 0.8, // Controls randomness for more creative results
                }
            };
            
            const apiKey = "AIzaSyCfxXygNQEezGgqQ4VPTrHmmPY4LfW7bf8"; // API key has been added.
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            // --- API Fetch with Exponential Backoff ---
            let response;
            let retries = 3;
            let delay = 1000; // 1 second

            for (let i = 0; i < retries; i++) {
                try {
                    response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                        break; // Success, exit the loop
                    } else if (response.status === 429 || response.status >= 500) {
                        // If rate limited or server error, wait and retry
                        console.warn(`Attempt ${i + 1} failed. Retrying in ${delay / 1000}s...`);
                        await new Promise(resolve => setTimeout(resolve, delay));
                        delay *= 2; // Double the delay for the next retry
                    } else {
                        // For other client-side errors, don't retry
                        throw new Error(`API request failed with status ${response.status}`);
                    }
                } catch (error) {
                    if (i === retries - 1) throw error; // Throw error on last retry
                }
            }

            if (!response || !response.ok) {
                throw new Error("API request failed after multiple retries.");
            }

            const result = await response.json();
            
            // --- Process and render the results ---
            if (result.candidates && result.candidates.length > 0) {
                const jsonText = result.candidates[0].content.parts[0].text;
                const prompts = JSON.parse(jsonText);
                renderPrompts(prompts);
            } else {
                throw new Error("Received an empty or invalid response from the AI.");
            }
        }

        /**
         * Renders the generated prompts onto the page.
         * @param {Array<Object>} prompts An array of prompt objects with title and prompt properties.
         */
        function renderPrompts(prompts) {
            prompts.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'prompt-card bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700';
                card.style.animationDelay = `${index * 100}ms`; // Stagger the animation

                card.innerHTML = `
                    <div class="flex justify-between items-start">
                        <h3 class="text-xl font-bold text-indigo-400 mb-3">${item.title}</h3>
                        <button class="copy-btn p-2 rounded-md hover:bg-gray-700 transition-colors duration-200" title="Copy prompt">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                            </svg>
                        </button>
                    </div>
                    <p class="text-gray-300 leading-relaxed">${item.prompt}</p>
                `;
                resultsContainer.appendChild(card);

                // Add event listener to the new copy button
                card.querySelector('.copy-btn').addEventListener('click', (e) => {
                    copyToClipboard(item.prompt, e.currentTarget);
                });
            });
        }
        
        /**
         * Copies text to the clipboard and provides visual feedback.
         * @param {string} text The text to copy.
         * @param {HTMLElement} buttonElement The button that was clicked.
         */
        function copyToClipboard(text, buttonElement) {
            // Use a temporary textarea element to copy text
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy'); // Use execCommand for broader browser support in this context
                // Visual feedback
                buttonElement.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                `;
                setTimeout(() => {
                    buttonElement.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                        </svg>
                    `;
                }, 2000);
            } catch (err) {
                console.error('Failed to copy text: ', err);
            }
            document.body.removeChild(textArea);
        }

        /**
         * Manages the UI state during API calls.
         * @param {boolean} isLoading True if the API is loading.
         */
        function setLoadingState(isLoading) {
            if (isLoading) {
                generateBtn.disabled = true;
                btnText.textContent = 'Generating...';
                btnIcon.classList.add('hidden');
                loader.classList.remove('hidden');
            } else {
                generateBtn.disabled = false;
                btnText.textContent = 'Generate';
                btnIcon.classList.remove('hidden');
                loader.classList.add('hidden');
            }
        }

        /**
         * Displays an error message to the user.
         * @param {string} message The error message to display.
         */
        function showError(message) {
            errorMessage.textContent = message;
            errorBox.classList.remove('hidden');
        }

        /**
         * Hides the error message box.
         */
        function hideError() {
            errorBox.classList.add('hidden');
        }

    </script>

</body>
</html>

